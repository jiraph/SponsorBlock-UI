/* ==UserStyle==
@name           Better Menu for SponsorBlock
@description    Styles the dropdown list in the submission menu with each categories respective color.
@namespace      sponsorblock-color-coded-dropdown
@homepageURL    https://github.com/jiraph/SponsorBlock-UI
@updateURL      https://github.com/jiraph/SponsorBlock-UI/raw/refs/heads/beta/sponsorblock.colorcodeddropdown.user.css
@author         jiraph
@version        1.4.2
@preprocessor   stylus

@var checkbox   flatStyle       "Flat style UI" 1
@var checkbox   sharpCorners    "Remove rounded corners" 0
@var checkbox   icons           "Replace text buttons with icons" 0
@var checkbox   wideChapter       "Full width chapter input box" 0
@var select     box-style       "Color category box with current segment color" {
    'Outline*'                  :'box-outline',
    'Bar (L)'                   :'box-bar-left',
    'Bar (R)'                   :'box-bar-right',
    'Off'                       :'box-off'}
@var select     color-style     "Color dropdown menu with segment colors" {
    'Color Background*'         :'color-background',
    'Color Text'                :'color-text',
    'Off'                       :'color-off'}
@var checkbox   textBold        "- - Bold text" 0
@var checkbox   outlineText     "- - Outline text (Firefox only)" 0
@var color      chapterColor    "- - Set chapter color" #e93b3b
@var color      chapterText     "- - Set chapter text color" #fff
@var checkbox   lockedBold      "- - Bold text when locked (VIP only)" 1
@var color      lockedColor     "- - Change locked color (VIP only)" #ffc83d
@var checkbox   highlightAlt    "Swap Highlight's text color" 0
@var checkbox   unsubmitted     "Use unsubmitted category colors" 0
==/UserStyle== */
@-moz-document domain("youtube.com") {
    
/* BOLD TEXT */
    if textBold {
        select.sponsorTimeCategories option {
            font-weight: bold;
        }
    }
    
/* LOCKED COLOR */
    body option.sponsorBlockLockedColor {
        color: lockedColor !important;
        if lockedBold {
            font-weight: bold;
        }
    }
    
/* USE UNSUBMITTED COLORS */
    if unsubmitted {
        .sponsorSkipNoticeParent {
            --sb-category-sponsor: var(--sb-category-preview-sponsor);
            --sb-category-selfpromo: var(--sb-category-preview-selfpromo);
            --sb-category-interaction: var(--sb-category-preview-interaction);
            --sb-category-intro: var(--sb-category-preview-intro);
            --sb-category-outro: var(--sb-category-preview-outro);
            --sb-category-preview: var(--sb-category-preview-preview);
            --sb-category-hook: var(--sb-category-preview-hook);
            --sb-category-filler: var(--sb-category-preview-filler);
            --sb-category-music_offtopic: var(--sb-category-preview-music_offtopic);
        }
    }

/* NO ROUNDED CORNERS */
    if sharpCorners {
        .sponsorSkipNoticeTableContainer, .sponsorTimeEditInput, .sponsorTimeEditSelector, .sponsorTimeEditSelector > option {
            border-radius: 0px !important;
        }
    }
    
/* FULL WIDTH CHAPTER INPUT BOX */
    .sponsorTimeEditInput.sponsorChapterNameInput {
        if flatStyle || icons {
            margin: 0px -5px 5px -5px;
        }
        if flatStyle {
            width: 212px !important;
        }
        if wideChapter {
            if not flatStyle {
                width: 340px !important;
                margin-right: 5px;
            }
            if flatStyle {
                width: 98% !important;
            }
        }
    }

/* FLAT UI */
    if flatStyle {
        .sponsorTimeEditInput, .sponsorTimeEditSelector {
            border: 1px solid #444 !important;
            border-radius: 4px;
            padding-left: 3px;
            padding-right: 2px;
            margin-left: 3px;
            margin-right: 3px;
            background-color: #1b1b1b !important;
        }
        .sponsorTimeEditSelector.sponsorTimeCategories {
            max-width: 220px;
        }
        .sponsorNowButton {
            margin: 2px;
        }
        .sponsorTimeMessagesRow > td > div {
            border-bottom: 1px solid #444;
            padding-bottom: 10px !important;
            margin-right: 10px;
            margin-top: 10px !important;
        }
        .sponsorTimeMessagesRow > td > div:nth-of-type(1) {
            border-top: 1px solid #444;
            padding-top: 10px !important;
            margin-top: 0px !important;
        }
    }
    
/* ICONS */
    if icons {
        /* LOWER ROW */
        .sponsorTimeMessagesRow span.sponsorTimeEditButton {
            font-size: 0px;
            display: inline-block;
            height: 18px;
            width: 18px;
            background-repeat: no-repeat;
            vertical-align: text-top;
        }
        .sponsorTimeMessagesRow span[id*="DeleteButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 25H25M85 25H75M25 25H30M25 25C25 25 25 74 25 80C25 86 29 90 35 90C41 90 65 90 65 90C71 90 75 86 75 80C75 54.6159 75 25 75 25M75 25H70M30 25L35 10H65L70 25M30 25H70M41 40V75M59 75V40' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeMessagesRow span[id*="PreviewButton"], .sponsorTimeMessagesRow:has(a[href*='Highlight']).sponsorTimeMessagesRow span[id*="InspectButton"]{
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 85V15L86 50L24 85Z' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeMessagesRow span[id*="InspectButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 18V82M85 18V82L27.8947 50L85 18Z' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeMessagesRow span[id*="PreviewEndButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M85 18V82M15 18V82L72.1053 50L15 18Z' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeMessagesRow span[id*="EditButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M64 21L15 70L8 92L30 85L79 36M64 21L78 7L93 22L79 36M64 21L79 36' stroke='white' stroke-width='8' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeMessagesRow:has(span[id*="nowButton"]) span[id*="EditButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M41.2368 13V31.5H69.4737V13M30 87V52H70V87M13 13V87H87V24.6842L75.3158 13H13Z' stroke='white' stroke-width='8' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        
        /* UPPER ROW */
        span.sponsorNowButton {
            font-size: 0px;
            display: inline-block;
            height: 18px;
            width: 18px;
            background-repeat: no-repeat;
            vertical-align: top;
            if not flatStyle {
                vertical-align: text-top;
            }
        }
        .sponsorNowButton {
            margin-left: 5px;
            padding-right: 5px;
        }
        .sponsorTimeDisplay span[id*="startButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 29V71M55 29V71L23 50L55 29ZM90 29V71L58 50L90 29Z' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeDisplay span[id*="nowButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 29V71M5 71L37 50L5 29V71ZM95 71V29L63 50L95 71Z' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
        .sponsorTimeDisplay span[id*="endButton"] {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M90 29V71M45 29V71L77 50L45 29ZM10 29V71L42 50L10 29Z' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");
        }
    }

/* DROPDOWN MENU */
    if color-style not color-off {
        /* SPONSOR */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="sponsor"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-sponsor) !important;
                if outlineText {
                      text-shadow: -1px 1px 0 var(--sb-category-text-sponsor), 1px 1px 0 var(--sb-category-text-sponsor),1px -1px 0 var(--sb-category-text-sponsor),-1px -1px 0 var(--sb-category-text-sponsor) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-sponsor) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-sponsor) !important;
                }
            }
        }
        /* UNPAID SELF PROMOTION */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="selfpromo"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-selfpromo) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-selfpromo), 1px 1px 0 var(--sb-category-text-selfpromo),1px -1px 0 var(--sb-category-text-selfpromo),-1px -1px 0 var(--sb-category-text-selfpromo) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-selfpromo) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-selfpromo) !important;
                }
            }
        }
        /* EXCLUSIVE ACCESS */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="exclusive_access"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-exclusive_access) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-exclusive_access), 1px 1px 0 var(--sb-category-text-exclusive_access),1px -1px 0 var(--sb-category-text-exclusive_access),-1px -1px 0 var(--sb-category-text-exclusive_access) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-exclusive_access) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-exclusive_access) !important;
                }
            }

        }
        /* INTERACTION REMINDER */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="interaction"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-interaction) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-interaction), 1px 1px 0 var(--sb-category-text-interaction),1px -1px 0 var(--sb-category-text-interaction),-1px -1px 0 var(--sb-category-text-interaction) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-interaction) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-interaction) !important;
                }
            }
        }
        /* HIGHLIGHT */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="poi_highlight"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-poi_highlight) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-poi_highlight), 1px 1px 0 var(--sb-category-text-poi_highlight),1px -1px 0 var(--sb-category-text-poi_highlight),-1px -1px 0 var(--sb-category-text-poi_highlight) !important;
                }
                if highlightAlt {
                    color: var(--sb-category-text-poi_highlight) !important;
                    if outlineText {
                        text-shadow: -1px 1px 0 var(--sb-category-poi_highlight), 1px 1px 0 var(--sb-category-poi_highlight),1px -1px 0 var(--sb-category-poi_highlight),-1px -1px 0 var(--sb-category-poi_highlight) !important;
                    }
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-poi_highlight) !important;
                color: var(--sb-category-text-poi_highlight) !important;
                if outlineText {
                    color: #fff !important;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                if highlightAlt {
                    color: var(--sb-category-poi_highlight) !important;
                    background-color: var(--sb-category-text-poi_highlight) !important;
                }
            }
        }
        /* INTERMISSION INTRO ANIMATION */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="intro"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-intro) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-intro), 1px 1px 0 var(--sb-category-text-intro),1px -1px 0 var(--sb-category-text-intro),-1px -1px 0 var(--sb-category-text-intro) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-intro) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-intro) !important;
                }
            }
        }
        /* ENDCARDS CREDITS */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="outro"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-outro) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-outro), 1px 1px 0 var(--sb-category-text-outro),1px -1px 0 var(--sb-category-text-outro),-1px -1px 0 var(--sb-category-text-outro) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-outro) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-outro) !important;
                }
            }
        }
        /* PREVIEW RECAP */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="preview"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-preview) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-preview), 1px 1px 0 var(--sb-category-text-preview),1px -1px 0 var(--sb-category-text-preview),-1px -1px 0 var(--sb-category-text-preview) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-preview) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-preview) !important;
                }
            }
        }
        /* HOOK GREETINGS */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="hook"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-hook) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-hook), 1px 1px 0 var(--sb-category-text-hook),1px -1px 0 var(--sb-category-text-hook),-1px -1px 0 var(--sb-category-text-hook) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-hook) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-hook) !important;
                }
            }
        }
        /* TANGENT JOKES */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="filler"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-filler) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-filler), 1px 1px 0 var(--sb-category-text-filler),1px -1px 0 var(--sb-category-text-filler),-1px -1px 0 var(--sb-category-text-filler) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-filler) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-filler) !important;
                }
            }
        }
        /* CHAPTER */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="chapter"] {
            if (color-style == 'color-text') {
                color: chapterColor !important;
                if outlineText {
                    text-shadow: -1px 1px 0 chapterText, 1px 1px 0 chapterText, 1px -1px 0 chapterText, -1px -1px 0 chapterText !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: chapterColor !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: chapterText !important;
                }
            }
        }
        /* MUSIC: NON-MUSIC */
        .sponsorTimeEditSelector.sponsorTimeCategories option[value="music_offtopic"] {
            if (color-style == 'color-text') {
                color: var(--sb-category-music_offtopic) !important;
                if outlineText {
                    text-shadow: -1px 1px 0 var(--sb-category-text-music_offtopic), 1px 1px 0 var(--sb-category-text-music_offtopic),1px -1px 0 var(--sb-category-text-music_offtopic),-1px -1px 0 var(--sb-category-text-music_offtopic) !important;
                }
            }
            if (color-style == 'color-background') {
                background-color: var(--sb-category-music_offtopic) !important;
                if outlineText {
                    color: #fff;
                    text-shadow: -1px 1px 0 #000, 1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000 !important;
                }
                else {
                    color: var(--sb-category-text-music_offtopic) !important;
                }
            }
        }
    }

/* CATEGORY BOX */
    if box-style not box-off {
        .sponsorTimeEditSelector.sponsorTimeCategories {
            if box-style == box-outline {
                border-color: inherit !important;
            }
            if box-style == box-bar-left {
                border-left-color: inherit !important;
            }
            if box-style == box-bar-right {
                border-right-color: inherit !important;
            }
        }
        .sponsorTimeEditSelector.sponsorTimeCategories {
            if box-style == box-bar-left {
                border-left: 4px solid !important;
                border-left-color: inherit !important;
            }
            if box-style == box-bar-right {
                border-right: 4px solid !important;
                border-right-color: inherit !important;
            }
        }
        /* CHOOSE CATEGORY */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Segment_Categories']) {
            border-color: #444 !important;
        }
        /* SPONSOR */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Sponsor']) {
            border-color: var(--sb-category-sponsor) !important;
        }
        /* UNPAID SELF PROMO */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Unpaid']) {
            border-color: var(--sb-category-selfpromo) !important;
        }
        /* EXCLUSIVE ACCESS */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Exclusive']) {
            border-color: var(--sb-category-exclusive_access) !important;
        }
        /* INTERACTION REMINDER */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Interaction']) {
            border-color: var(--sb-category-interaction) !important;
        }
        /* HIGHLIGHT */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Highlight']) {
            border-color: var(--sb-category-poi_highlight) !important;
            if highlightAlt {
                border-color: var(--sb-category-text-poi_highlight) !important;
            }
        }
        /* INTERMISSION INTRO ANIMATION */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Intermission']) {
            border-color: var(--sb-category-intro) !important;
        }
        /* ENDCARDS CREDITS */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Endcards']) {
            border-color: var(--sb-category-outro) !important;
        }
        /* PREVIEW RECAP */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Preview']) {
            border-color: var(--sb-category-preview) !important;
        }
        /* HOOK GREETINGS */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Hook']) {
            border-color: var(--sb-category-hook) !important;
        }
        /* TANGENTS JOKES */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Tangent']) {
            border-color: var(--sb-category-filler) !important;
        }
        /* CHAPTER */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Chapter']) {
            border-color: chapterColor !important;
        }
        /* MUSIC NON MUSIC */
        .sponsorTimeMessagesRow div[style="position: relative;"]:has(> a[href*='Music']) {
            border-color: var(--sb-category-music_offtopic) !important;
        }
    }
}
